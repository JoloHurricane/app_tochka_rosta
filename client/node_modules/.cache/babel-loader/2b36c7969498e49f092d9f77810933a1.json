{"ast":null,"code":"import _regeneratorRuntime from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useCallback,useContext}from'react';import Gallery from\"../components/Gallery\";import{useHttp}from'../hooks/http.hook';import{Loader}from'../components/Loader';import{useParams}from'react-router-dom';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function GalleryContent(){var auth=useContext(AuthContext);var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var categoryId=useParams().id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var cat,fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request(\"/api/galleryCategory-edit/\".concat(categoryId),'GET',null);case 3:cat=_context.sent;setCategory(cat);_context.next=7;return request(\"/api/galleryCategory-edit/images\",'POST',{catId:categoryId},{},'application/json');case 7:fetched=_context.sent;setImages(fetched);_context.next=13;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);})),[request]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Gallery,{additionalClass:\"left-align\",titleSection:category.title,title:category.title,text:category.description,images:images,loading:loading})});}export default GalleryContent;","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/GalleryContent.js"],"names":["React","useEffect","useState","useCallback","useContext","Gallery","useHttp","Loader","useParams","AuthContext","GalleryContent","auth","request","loading","categoryId","id","images","setImages","category","setCategory","cat","catId","fetched","title","description"],"mappings":"qWAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,QAAxB,CAAiCC,WAAjC,CAA6CC,UAA7C,KAA8D,OAA9D,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAAQC,OAAR,KAAsB,oBAAtB,CACA,OAAQC,MAAR,KAAqB,sBAArB,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,OAASC,WAAT,KAA4B,wBAA5B,C,gGAEA,QAASC,CAAAA,cAAT,EAA0B,CACxB,GAAMC,CAAAA,IAAI,CAAGP,UAAU,CAACK,WAAD,CAAvB,CADwB,aAEGH,OAAO,EAFV,CAEjBM,OAFiB,UAEjBA,OAFiB,CAERC,OAFQ,UAERA,OAFQ,CAGxB,GAAMC,CAAAA,UAAU,CAAGN,SAAS,GAAGO,EAA/B,CAHwB,cAIIb,QAAQ,CAAC,EAAD,CAJZ,wCAIjBc,MAJiB,eAITC,SAJS,8BAKOf,QAAQ,CAAC,EAAD,CALf,yCAKjBgB,QALiB,eAKRC,WALQ,eAMxBlB,SAAS,sEAAG,yLAGaW,CAAAA,OAAO,qCAA8BE,UAA9B,EAA4C,KAA5C,CAAmD,IAAnD,CAHpB,QAGAM,GAHA,eAIND,WAAW,CAACC,GAAD,CAAX,CAJM,sBAKgBR,CAAAA,OAAO,oCAAqC,MAArC,CAC7B,CAACS,KAAK,CAACP,UAAP,CAD6B,CACR,EADQ,CACL,kBADK,CALvB,QAKAQ,OALA,eAONL,SAAS,CAACK,OAAD,CAAT,CAPM,sJAAH,GAUP,CAACV,OAAD,CAVO,CAAT,CAYE,mBACE,sCAEU,KAAC,OAAD,EAAS,eAAe,CAAE,YAA1B,CAAwC,YAAY,CAAEM,QAAQ,CAACK,KAA/D,CAAsE,KAAK,CAAEL,QAAQ,CAACK,KAAtF,CAA6F,IAAI,CAAEL,QAAQ,CAACM,WAA5G,CAAyH,MAAM,CAAER,MAAjI,CAAyI,OAAO,CAAEH,OAAlJ,EAFV,EADF,CASH,CAED,cAAeH,CAAAA,cAAf","sourcesContent":["import React,{useEffect,useState,useCallback,useContext} from 'react'\r\nimport Gallery from \"../components/Gallery\";\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {Loader} from '../components/Loader'\r\nimport {useParams} from 'react-router-dom'\r\nimport { AuthContext } from '../context/AuthContext'\r\n\r\nfunction GalleryContent() {\r\n  const auth = useContext(AuthContext)\r\n  const {request, loading} = useHttp()\r\n  const categoryId = useParams().id\r\n  const [images, setImages] = useState([])\r\n  const [category,setCategory] = useState({})\r\n  useEffect(  async() => {\r\n        \r\n    try {\r\n        const cat  = await request(`/api/galleryCategory-edit/${categoryId}`, 'GET', null)\r\n        setCategory(cat)\r\n        const fetched = await request(`/api/galleryCategory-edit/images`, 'POST', \r\n        {catId:categoryId},  {},'application/json')\r\n        setImages(fetched)\r\n           \r\n      } catch (e) {}\r\n  },[request])\r\n\r\n    return(\r\n      <>\r\n        \r\n                <Gallery additionalClass={\"left-align\"} titleSection={category.title} title={category.title} text={category.description} images={images} loading={loading}/>\r\n        \r\n      </>\r\n\r\n    )\r\n    \r\n}\r\n\r\nexport default GalleryContent"]},"metadata":{},"sourceType":"module"}