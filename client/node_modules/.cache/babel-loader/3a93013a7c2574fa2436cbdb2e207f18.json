{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\reactExpress\\\\client\\\\src\\\\Pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport FollowSection from \"../components/FollowSection\";\nimport Gallery from \"../components/Gallery\";\nimport IconBoxes from \"../components/IconBoxes\";\nimport { Loader } from '../components/Loader';\nimport Slider from \"../components/Slider\";\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttp } from '../hooks/http.hook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    request,\n    loading\n  } = useHttp();\n  const [images, setImages] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [organization, setOrganization] = useState({\n    title: '',\n    address: '',\n    phone: '',\n    phoneAdditional: '',\n    email: '',\n    _id: '',\n    city: '',\n    map: '',\n    vk: '',\n    instagram: '',\n    facebook: '',\n    telegram: ''\n  });\n  const fetchArticles = useCallback(async () => {\n    try {\n      const limit = 5;\n      const fetched = await request('/api/articles-edit/articles-limit', 'POST', {\n        limit: limit\n      }, {}, 'application/json');\n      setArticles(fetched);\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchArticles();\n  }, [fetchArticles]);\n  const fetchOrg = useCallback(async () => {\n    try {\n      const fetched = await request('/api/organization-edit/organization', 'POST', { ...organization\n      }, {}, 'application/json');\n      setOrganization({ ...fetched\n      });\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchOrg();\n  }, [fetchOrg]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Slider, {\n      articles: articles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IconBoxes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FollowSection, {\n      organization: organization\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      additionalClass: \"center\",\n      images: images,\n      title: \"\\u0424\\u043E\\u0442\\u043E \\u0433\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"RN+N3QKaI77LZlxi6v87ZxujyRc=\", false, function () {\n  return [useHttp];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/Home.js"],"names":["React","useCallback","useContext","useEffect","useState","FollowSection","Gallery","IconBoxes","Loader","Slider","AuthContext","useHttp","Home","auth","request","loading","images","setImages","articles","setArticles","organization","setOrganization","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","fetchArticles","limit","fetched","console","log","e","fetchOrg"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport FollowSection from \"../components/FollowSection\"\r\nimport Gallery from \"../components/Gallery\"\r\nimport IconBoxes from \"../components/IconBoxes\"\r\nimport { Loader } from '../components/Loader'\r\nimport Slider from \"../components/Slider\"\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\n\r\nfunction Home(){\r\n     const auth = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [images,setImages] = useState([])\r\n\r\n    const [articles, setArticles] = useState([])\r\n    const [organization,setOrganization] = useState({\r\n      title:'',\r\n      address:'',\r\n      phone:'',\r\n      phoneAdditional:'',\r\n      email:'',\r\n      _id:'',\r\n      city:'',\r\n      map:'',\r\n      vk:'',\r\n      instagram:'',\r\n      facebook:'',\r\n      telegram:''\r\n    })\r\n\r\n    const fetchArticles = useCallback(async () => {\r\n        try {\r\n          const limit = 5  \r\n          const fetched = await request('/api/articles-edit/articles-limit', 'POST', {limit:limit},\r\n          {},'application/json')\r\n          setArticles(fetched)\r\n          console.log(fetched)\r\n        } catch (e) {}\r\n      }, [request])\r\n      useEffect(() => {\r\n        fetchArticles()\r\n       \r\n      }, [fetchArticles])\r\n\r\n      const fetchOrg = useCallback(async () => {\r\n        try {\r\n            const fetched = await request('/api/organization-edit/organization', \r\n            'POST', {...organization},{},'application/json')\r\n            \r\n            setOrganization({...fetched})\r\n            console.log(fetched)\r\n           \r\n    } catch (e) {}\r\n  }, [request])\r\n  \r\n  useEffect(() => {\r\n    fetchOrg()\r\n    \r\n  }, [fetchOrg]) \r\n  \r\n\r\n      if (loading) {\r\n        return <Loader/>\r\n      }\r\n\r\n    return(\r\n        <>\r\n        \r\n        <Slider articles={articles}/>\r\n        <IconBoxes/>\r\n        <FollowSection organization={organization}/>\r\n        <Gallery additionalClass={\"center\"} images={images} title=\"Фото галерея\"/>\r\n        \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}