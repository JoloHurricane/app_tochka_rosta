{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\reactExpress\\\\client\\\\src\\\\Pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport FollowSection from \"../components/FollowSection\";\nimport Gallery from \"../components/Gallery\";\nimport IconBoxes from \"../components/IconBoxes\";\nimport { Loader } from '../components/Loader';\nimport Slider from \"../components/Slider\";\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttp } from '../hooks/http.hook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    request,\n    loading\n  } = useHttp();\n  const [images, setImages] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [organization, setOrganization] = useState({\n    title: '',\n    address: '',\n    phone: '',\n    phoneAdditional: '',\n    email: '',\n    _id: '',\n    city: '',\n    map: '',\n    vk: '',\n    instagram: '',\n    facebook: '',\n    telegram: ''\n  });\n  useEffect(async () => {\n    try {\n      const category = await request(`/api/galleryCategory-edit/gallery-category`, 'GET', null);\n      const fetched = await request(`/api/galleryCategory-edit/images`, 'POST', {\n        catId: category._id\n      }, {}, 'application/json');\n      console.log(fetched);\n      setImages(fetched);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [request]);\n  const fetchArticles = useCallback(async () => {\n    try {\n      const limit = 5;\n      const fetched = await request('/api/articles-edit/articles-limit', 'POST', {\n        limit: limit\n      }, {}, 'application/json');\n      setArticles(fetched);\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchArticles();\n  }, [fetchArticles]);\n  const fetchOrg = useCallback(async () => {\n    try {\n      const fetched = await request('/api/organization-edit/organization', 'POST', { ...organization\n      }, {}, 'application/json');\n      setOrganization({ ...fetched\n      });\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchOrg();\n  }, [fetchOrg]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Slider, {\n      articles: articles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IconBoxes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FollowSection, {\n      organization: organization\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      additionalClass: \"center\",\n      images: images,\n      title: \"\\u0424\\u043E\\u0442\\u043E \\u0433\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"DxvsiOe6My85Nl1OvvaQi6co6fg=\", false, function () {\n  return [useHttp];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/Home.js"],"names":["React","useCallback","useContext","useEffect","useState","FollowSection","Gallery","IconBoxes","Loader","Slider","AuthContext","useHttp","Home","auth","request","loading","images","setImages","articles","setArticles","organization","setOrganization","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","category","fetched","catId","console","log","e","fetchArticles","limit","fetchOrg"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport FollowSection from \"../components/FollowSection\"\r\nimport Gallery from \"../components/Gallery\"\r\nimport IconBoxes from \"../components/IconBoxes\"\r\nimport { Loader } from '../components/Loader'\r\nimport Slider from \"../components/Slider\"\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\n\r\nfunction Home(){\r\n     const auth = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [images,setImages] = useState([])\r\n    const [articles, setArticles] = useState([])\r\n    const [organization,setOrganization] = useState({\r\n      title:'',\r\n      address:'',\r\n      phone:'',\r\n      phoneAdditional:'',\r\n      email:'',\r\n      _id:'',\r\n      city:'',\r\n      map:'',\r\n      vk:'',\r\n      instagram:'',\r\n      facebook:'',\r\n      telegram:''\r\n    })\r\n\r\n    useEffect(  async() => {\r\n        \r\n      try {\r\n          const category  = await request(`/api/galleryCategory-edit/gallery-category`, 'GET', null)\r\n          const fetched = await request(`/api/galleryCategory-edit/images`, 'POST', \r\n          {catId:category._id},  {},'application/json')\r\n          console.log(fetched)\r\n          setImages(fetched)\r\n             \r\n        } catch (e) {console.log(e)}\r\n    },[request])\r\n\r\n    const fetchArticles = useCallback(async () => {\r\n        try {\r\n          const limit = 5  \r\n          const fetched = await request('/api/articles-edit/articles-limit', 'POST', {limit:limit},\r\n          {},'application/json')\r\n          setArticles(fetched)\r\n          console.log(fetched)\r\n        } catch (e) {}\r\n      }, [request])\r\n      useEffect(() => {\r\n        fetchArticles()\r\n       \r\n      }, [fetchArticles])\r\n\r\n      const fetchOrg = useCallback(async () => {\r\n        try {\r\n            const fetched = await request('/api/organization-edit/organization', \r\n            'POST', {...organization},{},'application/json')\r\n            \r\n            setOrganization({...fetched})\r\n            console.log(fetched)\r\n           \r\n    } catch (e) {}\r\n  }, [request])\r\n  \r\n  useEffect(() => {\r\n    fetchOrg()\r\n    \r\n  }, [fetchOrg]) \r\n  \r\n\r\n      if (loading) {\r\n        return <Loader/>\r\n      }\r\n\r\n    return(\r\n        <>\r\n        \r\n        <Slider articles={articles}/>\r\n        <IconBoxes/>\r\n        <FollowSection organization={organization}/>\r\n        <Gallery additionalClass={\"center\"} images={images} title=\"Фото галерея\"/>\r\n        \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}