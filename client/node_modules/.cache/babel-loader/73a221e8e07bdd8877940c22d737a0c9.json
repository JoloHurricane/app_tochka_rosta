{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\reactExpress\\\\client\\\\src\\\\Pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport FollowSection from \"../components/FollowSection\";\nimport Gallery from \"../components/Gallery\";\nimport IconBoxes from \"../components/IconBoxes\";\nimport { Loader } from '../components/Loader';\nimport Slider from \"../components/Slider\";\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttp } from '../hooks/http.hook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    request,\n    loading\n  } = useHttp();\n  const [images, setImages] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [category, setCategory] = useState({});\n  const [organization, setOrganization] = useState({\n    title: '',\n    address: '',\n    phone: '',\n    phoneAdditional: '',\n    email: '',\n    _id: '',\n    city: '',\n    map: '',\n    vk: '',\n    instagram: '',\n    facebook: '',\n    telegram: ''\n  });\n  useEffect(async () => {\n    try {\n      const category = await request(`/api/galleryCategory-edit/gallery-category`, 'GET', null);\n      console.log(category);\n      setCategory(category);\n      const fetched = await request(`/api/galleryCategory-edit/images-limit`, 'POST', {\n        catId: category._id,\n        limit: 30\n      }, {}, 'application/json');\n      console.log(fetched);\n      setImages(fetched);\n    } catch (e) {\n      console.log(e);\n    }\n  }, [request]);\n  const fetchArticles = useCallback(async () => {\n    try {\n      const limit = 5;\n      const fetched = await request('/api/articles-edit/articles-limit', 'POST', {\n        limit: limit\n      }, {}, 'application/json');\n      setArticles(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchArticles();\n  }, [fetchArticles]);\n  const fetchOrg = useCallback(async () => {\n    try {\n      const fetched = await request('/api/organization-edit/organization', 'POST', { ...organization\n      }, {}, 'application/json');\n      setOrganization({ ...fetched\n      });\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchOrg();\n  }, [fetchOrg]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Slider, {\n      articles: articles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IconBoxes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FollowSection, {\n      organization: organization\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), category !== null && /*#__PURE__*/_jsxDEV(Gallery, {\n      additionalClass: \"center\",\n      images: images,\n      title: category.title,\n      titleSection: \"\\u0424\\u043E\\u0442\\u043E \\u0433\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"WTemfev/0TjnNHAlB+xlzJI66qc=\", false, function () {\n  return [useHttp];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/Home.js"],"names":["React","useCallback","useContext","useEffect","useState","FollowSection","Gallery","IconBoxes","Loader","Slider","AuthContext","useHttp","Home","auth","request","loading","images","setImages","articles","setArticles","category","setCategory","organization","setOrganization","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","console","log","fetched","catId","limit","e","fetchArticles","fetchOrg"],"mappings":"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","sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react'\r\nimport FollowSection from \"../components/FollowSection\"\r\nimport Gallery from \"../components/Gallery\"\r\nimport IconBoxes from \"../components/IconBoxes\"\r\nimport { Loader } from '../components/Loader'\r\nimport Slider from \"../components/Slider\"\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport { useHttp } from '../hooks/http.hook'\r\n\r\n\r\nfunction Home(){\r\n     const auth = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [images,setImages] = useState([])\r\n    const [articles, setArticles] = useState([])\r\n    const [category,setCategory] = useState({})\r\n    const [organization,setOrganization] = useState({\r\n      title:'',\r\n      address:'',\r\n      phone:'',\r\n      phoneAdditional:'',\r\n      email:'',\r\n      _id:'',\r\n      city:'',\r\n      map:'',\r\n      vk:'',\r\n      instagram:'',\r\n      facebook:'',\r\n      telegram:''\r\n    })\r\n\r\n    useEffect(  async() => {\r\n        \r\n      try {\r\n          const category  = await request(`/api/galleryCategory-edit/gallery-category`, 'GET', null)\r\n          console.log(category)\r\n          setCategory(category)\r\n          const fetched = await request(`/api/galleryCategory-edit/images-limit`, 'POST', \r\n          {catId:category._id,limit:30},  {},'application/json')\r\n          console.log(fetched)\r\n          setImages(fetched)\r\n             \r\n        } catch (e) {console.log(e)}\r\n    },[request])\r\n\r\n    const fetchArticles = useCallback(async () => {\r\n        try {\r\n          const limit = 5  \r\n          const fetched = await request('/api/articles-edit/articles-limit', 'POST', {limit:limit},\r\n          {},'application/json')\r\n          setArticles(fetched)\r\n        } catch (e) {}\r\n      }, [request])\r\n      useEffect(() => {\r\n        fetchArticles()\r\n       \r\n      }, [fetchArticles])\r\n\r\n      const fetchOrg = useCallback(async () => {\r\n        try {\r\n            const fetched = await request('/api/organization-edit/organization', \r\n            'POST', {...organization},{},'application/json')\r\n            \r\n            setOrganization({...fetched})\r\n            console.log(fetched)\r\n           \r\n    } catch (e) {}\r\n  }, [request])\r\n  \r\n  useEffect(() => {\r\n    fetchOrg()\r\n    \r\n  }, [fetchOrg]) \r\n  \r\n\r\n      if (loading) {\r\n        return <Loader/>\r\n      }\r\n\r\n    return(\r\n        <>\r\n        \r\n        <Slider articles={articles}/>\r\n        <IconBoxes/>\r\n        <FollowSection organization={organization}/>\r\n        {category!==null && <Gallery additionalClass={\"center\"} images={images} title={category.title} titleSection ='Фото галерея'/>}\r\n      \r\n        \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}