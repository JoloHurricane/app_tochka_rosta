{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\reactExpress\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Footer from \"./components/Footer\";\nimport { Loader } from \"./components/Loader\";\nimport Home from \"./Pages/Home\";\nimport Articles from './Pages/Articles';\nimport \"./materialize.css\";\nimport M from 'materialize-css';\nimport './App.css';\nimport ArticleContent from './Pages/ArticleContent';\nimport GalleryPage from './Pages/GalleryPage';\nimport GalleryContent from './Pages/GalleryContent';\nimport { AuthContext } from './context/AuthContext';\nimport { useAuth } from \"./hooks/auth.hook\";\nimport Login from './Pages/Login';\nimport Documents from './Pages/Documents';\nimport { useRoutesAdm } from \"./routesAdm\";\nimport ContactPage from \"./Pages/ContactPage\";\nimport AboutPage from \"./Pages/AboutPage\";\nimport NotFound from \"./Pages/NotFound\";\nimport { useHttp } from \"./hooks/http.hook\";\nimport { useMessage } from \"./hooks/message.hook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    token,\n    login,\n    logout,\n    userId,\n    ready\n  } = useAuth();\n  const isAuthenticated = !!token;\n  const routesAdm = useRoutesAdm(isAuthenticated);\n  const {\n    loading,\n    error,\n    request,\n    clearError\n  } = useHttp();\n  const message = useMessage();\n  const [organization, setOrganization] = useState({\n    title: '',\n    address: '',\n    phone: '',\n    phoneAdditional: '',\n    email: '',\n    _id: '',\n    city: '',\n    map: '',\n    vk: '',\n    instagram: '',\n    facebook: '',\n    telegram: ''\n  });\n  const fetchOrg = useCallback(async () => {\n    try {\n      const fetched = await request('/api/organization-edit/organization', 'POST', { ...organization\n      }, {}, 'application/json');\n      setOrganization({ ...fetched\n      });\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchOrg();\n  }, [fetchOrg]);\n\n  if (!ready) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 14\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      token,\n      login,\n      logout,\n      userId,\n      isAuthenticated,\n      ready\n    },\n    children: /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(\"main\", {\n          id: \"main\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/gallery/:id\",\n              exact: true,\n              component: GalleryContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/articles/:id\",\n              component: ArticleContent\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/gallery\",\n              exact: true,\n              component: GalleryPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/articles\",\n              exact: true,\n              component: Articles\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/documents\",\n              exact: true,\n              component: Documents\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/contacts\",\n              exact: true,\n              component: ContactPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/about\",\n              exact: true,\n              component: AboutPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/login\",\n              exact: true,\n              component: Login\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              exact: true,\n              component: Home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 11\n            }, this), routesAdm, /*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              component: NotFound\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          organization: form\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this)\n    }, void 0, false)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"un7HlI0qA32g5YoHBeSUfw3vqK8=\", false, function () {\n  return [useAuth, useRoutesAdm, useHttp, useMessage];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/App.js"],"names":["React","useEffect","useState","useCallback","BrowserRouter","Router","Switch","Route","Navbar","Footer","Loader","Home","Articles","M","ArticleContent","GalleryPage","GalleryContent","AuthContext","useAuth","Login","Documents","useRoutesAdm","ContactPage","AboutPage","NotFound","useHttp","useMessage","App","token","login","logout","userId","ready","isAuthenticated","routesAdm","loading","error","request","clearError","message","organization","setOrganization","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","fetchOrg","fetched","console","log","e","form"],"mappings":"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","sourcesContent":["import React,{useEffect,useState,useCallback} from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Footer from \"./components/Footer\"\nimport {Loader} from \"./components/Loader\"\nimport Home from \"./Pages/Home\"\nimport Articles from './Pages/Articles'\nimport \"./materialize.css\"\nimport M from 'materialize-css'\nimport './App.css';\nimport ArticleContent from './Pages/ArticleContent';\nimport GalleryPage from './Pages/GalleryPage';\nimport GalleryContent from './Pages/GalleryContent';\nimport { AuthContext } from './context/AuthContext';\nimport {useAuth} from \"./hooks/auth.hook\"\nimport Login from './Pages/Login';\nimport Documents from './Pages/Documents'\nimport {useRoutesAdm} from \"./routesAdm\";\nimport ContactPage from \"./Pages/ContactPage\"\nimport AboutPage from \"./Pages/AboutPage\"\nimport NotFound from \"./Pages/NotFound\"\nimport {useHttp} from \"./hooks/http.hook\" \nimport {useMessage} from \"./hooks/message.hook\"\n\nfunction App() {\n\n\n  const {token,login,logout,userId,ready} = useAuth() \n    const isAuthenticated=!!token\n    const routesAdm = useRoutesAdm(isAuthenticated)\n    const {loading,error,request,clearError} = useHttp()\n    const message = useMessage()\n    const [organization,setOrganization] = useState({\n      title:'',\n      address:'',\n      phone:'',\n      phoneAdditional:'',\n      email:'',\n      _id:'',\n      city:'',\n      map:'',\n      vk:'',\n      instagram:'',\n      facebook:'',\n      telegram:''\n    })\n\n    const fetchOrg = useCallback(async () => {\n      try {\n          const fetched = await request('/api/organization-edit/organization', \n          'POST', {...organization},{},'application/json')\n          \n          setOrganization({...fetched})\n          console.log(fetched)\n         \n  } catch (e) {}\n}, [request])\n\nuseEffect(() => {\n  fetchOrg()\n  \n}, [fetchOrg]) \n\n    if(!ready){\n      return <Loader/>\n  }\n  \n  return (\n    <AuthContext.Provider value={\n      {\n          token,login,logout,userId,isAuthenticated,ready\n      }\n  }>\n    <>\n     \n      <Router>\n      <main id='main'>\n        <Navbar />\n        \n        \n        <Switch>\n         \n         <Route path=\"/gallery/:id\" exact component={GalleryContent}/>\n          <Route path=\"/articles/:id\"  component={ArticleContent}/>\n          <Route path=\"/gallery\" exact component={GalleryPage}/>\n          <Route path=\"/articles\" exact component={Articles}/>\n          <Route path=\"/documents\" exact component={Documents}/>\n          <Route path=\"/contacts\" exact component={ContactPage}/>\n          <Route path=\"/about\" exact component={AboutPage}/>\n          <Route path=\"/login\" exact component={Login}/> \n          <Route path='/' exact component={Home} />\n          {routesAdm}\n          <Route  exact component={NotFound} />\n        \n        </Switch>\n        \n          \n       <Switch>\n         \n     \n       </Switch>\n      \n      \n       \n        </main>\n       \n     <Footer organization={form}/>\n    \n       \n      </Router>\n      \n     \n   \n      \n    \n    </>\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}