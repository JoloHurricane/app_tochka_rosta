{"ast":null,"code":"var _jsxFileName = \"C:\\\\react projects\\\\reactExpress\\\\client\\\\src\\\\Pages\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useCallback, useContext } from 'react';\nimport Slider from \"../components/Slider\";\nimport IconBoxes from \"../components/IconBoxes\";\nimport FollowSection from \"../components/FollowSection\";\nimport Gallery from \"../components/Gallery\";\nimport { useParams } from 'react-router-dom';\nimport { useHttp } from '../hooks/http.hook';\nimport { AuthContext } from '../context/AuthContext';\nimport { Loader } from '../components/Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const {\n    request,\n    loading\n  } = useHttp();\n  const [images, setImages] = useState([]);\n  const [articles, setArticles] = useState([]);\n  const [organization, setForm] = useState({\n    title: '',\n    address: '',\n    phone: '',\n    phoneAdditional: '',\n    email: '',\n    _id: '',\n    city: '',\n    map: '',\n    vk: '',\n    instagram: '',\n    facebook: '',\n    telegram: ''\n  });\n  const fetchArticles = useCallback(async () => {\n    try {\n      const limit = 5;\n      const fetched = await request('/api/articles-edit/articles-limit', 'POST', {\n        limit: limit\n      }, {}, 'application/json');\n      setArticles(fetched);\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchArticles();\n  }, [fetchArticles]);\n  const fetchOrg = useCallback(async () => {\n    try {\n      const fetched = await request('/api/organization-edit/organization', 'POST', { ...organization\n      }, {}, 'application/json');\n      setOrganization({ ...fetched\n      });\n      console.log(fetched);\n    } catch (e) {}\n  }, [request]);\n  useEffect(() => {\n    fetchOrg();\n  }, [fetchOrg]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Slider, {\n      articles: articles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(IconBoxes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FollowSection, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Gallery, {\n      additionalClass: \"center\",\n      images: images,\n      title: \"\\u0424\\u043E\\u0442\\u043E \\u0433\\u0430\\u043B\\u0435\\u0440\\u0435\\u044F\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Home, \"lJRHuV4Ols1PnVVOaMK/+Q5hmwc=\", false, function () {\n  return [useHttp];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/Home.js"],"names":["React","useEffect","useState","useCallback","useContext","Slider","IconBoxes","FollowSection","Gallery","useParams","useHttp","AuthContext","Loader","Home","auth","request","loading","images","setImages","articles","setArticles","organization","setForm","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","fetchArticles","limit","fetched","console","log","e","fetchOrg","setOrganization"],"mappings":"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","sourcesContent":["import React,{useEffect, useState,useCallback,useContext} from 'react'\r\nimport Slider from \"../components/Slider\"\r\nimport IconBoxes from \"../components/IconBoxes\"\r\nimport FollowSection from \"../components/FollowSection\"\r\nimport Gallery from \"../components/Gallery\"\r\nimport {useParams} from 'react-router-dom'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {AuthContext} from '../context/AuthContext'\r\nimport {Loader} from '../components/Loader'\r\n\r\n\r\nfunction Home(){\r\n     const auth = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [images,setImages] = useState([])\r\n\r\n    const [articles, setArticles] = useState([])\r\n    const [organization,setForm] = useState({\r\n      title:'',\r\n      address:'',\r\n      phone:'',\r\n      phoneAdditional:'',\r\n      email:'',\r\n      _id:'',\r\n      city:'',\r\n      map:'',\r\n      vk:'',\r\n      instagram:'',\r\n      facebook:'',\r\n      telegram:''\r\n    })\r\n\r\n    const fetchArticles = useCallback(async () => {\r\n        try {\r\n          const limit = 5  \r\n          const fetched = await request('/api/articles-edit/articles-limit', 'POST', {limit:limit},\r\n          {},'application/json')\r\n          setArticles(fetched)\r\n          console.log(fetched)\r\n        } catch (e) {}\r\n      }, [request])\r\n      useEffect(() => {\r\n        fetchArticles()\r\n       \r\n      }, [fetchArticles])\r\n\r\n      const fetchOrg = useCallback(async () => {\r\n        try {\r\n            const fetched = await request('/api/organization-edit/organization', \r\n            'POST', {...organization},{},'application/json')\r\n            \r\n            setOrganization({...fetched})\r\n            console.log(fetched)\r\n           \r\n    } catch (e) {}\r\n  }, [request])\r\n  \r\n  useEffect(() => {\r\n    fetchOrg()\r\n    \r\n  }, [fetchOrg]) \r\n  \r\n\r\n      if (loading) {\r\n        return <Loader/>\r\n      }\r\n\r\n    return(\r\n        <>\r\n        \r\n        <Slider articles={articles}/>\r\n        <IconBoxes/>\r\n        <FollowSection/>\r\n        <Gallery additionalClass={\"center\"} images={images} title=\"Фото галерея\"/>\r\n        \r\n        </>\r\n\r\n    )\r\n}\r\n\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}