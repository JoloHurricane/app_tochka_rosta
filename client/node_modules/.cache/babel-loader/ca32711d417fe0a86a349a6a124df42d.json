{"ast":null,"code":"import _regeneratorRuntime from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback,useContext,useEffect,useState}from\"react\";import{useParams}from'react-router-dom';import{useHttp}from'../hooks/http.hook';import{Loader}from'../components/Loader';import ArticlesItem from'../components/ArticleItem';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function ArticleContent(){var auth=useContext(AuthContext);var _useHttp=useHttp(),request=_useHttp.request,loading=_useHttp.loading;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var articleId=useParams().id;var fetchArticles=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request('/api/articles-edit/articles-limit','POST',{limit:6});case 3:fetched=_context.sent;setArticles(fetched);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);})),[request]);useEffect(function(){fetchArticles();},[fetchArticles]);useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var fetched;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return request(\"/api/articles-edit/\".concat(articleId),'GET',null);case 3:fetched=_context2.sent;setArticle(fetched);_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);})),[request,articleId]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}if(article.img!=='placeholder.jpg'){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m12 l9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container content-article\",children:[/*#__PURE__*/_jsx(\"h4\",{children:article.title}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#929292\",fontStyle:\"italic\",fontSize:\"1.2rem\"},children:article.createdAt}),/*#__PURE__*/_jsx(\"div\",{className:\"img-article center-align\",children:/*#__PURE__*/_jsx(\"img\",{className:\"responsive-img\",src:\"/images/articles/\".concat(article.img),alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:article.sanitizedHtml},className:\"flow-text\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col l3 hide-on-med-and-down\",children:!loading&&articles.map(function(article,index){return/*#__PURE__*/_jsx(ArticlesItem,{styleCardFontSize:'1.2rem',styleCardHeight:'300px',pathIMG:\"/images/articles/\".concat(article.img),title:article.title,text:article.markdown,id:article._id,link:\"/articles/\".concat(article._id),linkAdm:\"/admpage/article-update/\".concat(article._id)},index);})})]})});}else{return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col s12 m12 l9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container content-article\",children:[/*#__PURE__*/_jsx(\"h4\",{children:article.title}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#929292\",fontStyle:\"italic\",fontSize:\"1.2rem\"},children:article.createdAt}),/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:article.sanitizedHtml},className:\"flow-text\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col l3 hide-on-med-and-down\",children:!loading&&articles.map(function(article,index){return/*#__PURE__*/_jsx(ArticlesItem,{styleCardFontSize:'1.2rem',styleCardHeight:'300px',pathIMG:\"/images/articles/\".concat(article.img),title:article.title,text:article.markdown,link:\"/articles/\".concat(article._id),id:article._id,linkAdm:\"/admpage/article-update/\".concat(article._id)},index);})})]})});}}export default ArticleContent;","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/Pages/ArticleContent.js"],"names":["React","useCallback","useContext","useEffect","useState","useParams","useHttp","Loader","ArticlesItem","AuthContext","ArticleContent","auth","request","loading","article","setArticle","articles","setArticles","articleId","id","fetchArticles","limit","fetched","img","title","color","fontStyle","fontSize","createdAt","__html","sanitizedHtml","map","index","markdown","_id"],"mappings":"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","sourcesContent":["import React , {useCallback, useContext, useEffect, useState} from \"react\";\r\nimport {useParams,} from 'react-router-dom'\r\nimport {useHttp} from '../hooks/http.hook'\r\nimport {Loader} from '../components/Loader'\r\nimport ArticlesItem from '../components/ArticleItem'\r\nimport {AuthContext} from '../context/AuthContext'\r\n\r\n\r\n\r\nfunction ArticleContent() {\r\n    const auth = useContext(AuthContext)\r\n    const {request, loading} = useHttp()\r\n    const [article, setArticle] = useState({})\r\n    const [articles, setArticles] = useState([])\r\n    const articleId = useParams().id\r\n\r\n    const fetchArticles = useCallback(async () => {\r\n      try {\r\n        const fetched = await request('/api/articles-edit/articles-limit', 'POST', {limit:6})\r\n        setArticles(fetched)\r\n      } catch (e) {}\r\n    }, [request])\r\n    \r\n    useEffect(() => {\r\n      fetchArticles()\r\n    }, [fetchArticles])\r\n    \r\n    \r\n      useEffect(  async() => {\r\n        \r\n        try {\r\n            const fetched = await request(`/api/articles-edit/${articleId}`, 'GET', null)\r\n            setArticle(fetched)\r\n            \r\n            \r\n          } catch (e) {}\r\n      },[request,articleId])\r\n    \r\n      if (loading) {\r\n        return <Loader />\r\n      }\r\n      if(article.img!=='placeholder.jpg'){\r\n        return(\r\n          <>\r\n         <div className=\"row\" >\r\n            <div className=\"col s12 m12 l9\">\r\n            <div className=\"container content-article\">\r\n              <h4>{article.title}</h4>\r\n              <p style={{ color: \"#929292\", fontStyle:\"italic\",fontSize:\"1.2rem\"}}>{article.createdAt}</p>\r\n              \r\n              <div className=\"img-article center-align\">\r\n                  <img className=\"responsive-img\" src={`/images/articles/${article.img}`} alt=\"\"/>\r\n              </div>\r\n              <div dangerouslySetInnerHTML={{ __html: article.sanitizedHtml }} className=\"flow-text\">\r\n                 \r\n              </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"col l3 hide-on-med-and-down\">\r\n            {!loading && articles.map((article,index)=>{\r\n                    return(\r\n                      <ArticlesItem styleCardFontSize={'1.2rem'} styleCardHeight={'300px'} key={index} pathIMG={`/images/articles/${article.img}`} title={article.title} \r\n                      text={article.markdown} \r\n                      id={article._id}\r\n                      link={`/articles/${article._id}`}\r\n                      linkAdm={`/admpage/article-update/${article._id}`}/>\r\n                    )\r\n                  })}\r\n                \r\n            </div>\r\n          \r\n         </div>\r\n         \r\n          </>\r\n      )\r\n      } else{\r\n        return(\r\n          <>\r\n         \r\n         <div className=\"row\" >\r\n            <div className=\"col s12 m12 l9\">\r\n            <div className=\"container content-article\">\r\n              <h4>{article.title}</h4>\r\n              <p style={{ color: \"#929292\", fontStyle:\"italic\",fontSize:\"1.2rem\"}}>{article.createdAt}</p>\r\n              \r\n             \r\n              <div dangerouslySetInnerHTML={{ __html: article.sanitizedHtml }} className=\"flow-text\">\r\n                 \r\n              </div>\r\n            </div>\r\n            </div>\r\n            <div className=\"col l3 hide-on-med-and-down\">\r\n            {!loading && articles.map((article,index)=>{\r\n                    return(\r\n                      <ArticlesItem styleCardFontSize={'1.2rem'} styleCardHeight={'300px'} key={index} pathIMG={`/images/articles/${article.img}`} title={article.title} \r\n                      text={article.markdown} \r\n                      link={`/articles/${article._id}`}\r\n                      id={article._id}\r\n                      linkAdm={`/admpage/article-update/${article._id}`}/>\r\n                    )\r\n                  })}\r\n                \r\n            </div>\r\n          \r\n         </div>\r\n          </>\r\n        )\r\n      }\r\n        \r\n      \r\n\r\n   \r\n}\r\n\r\nexport default ArticleContent "]},"metadata":{},"sourceType":"module"}