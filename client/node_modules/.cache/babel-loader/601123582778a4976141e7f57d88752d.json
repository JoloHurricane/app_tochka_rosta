{"ast":null,"code":"import _regeneratorRuntime from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState,useCallback}from'react';import{useHttp}from\"../hooks/http.hook\";import{useMessage}from\"../hooks/message.hook\";import{Loader}from'../components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function OrganizationForm(){function submitHandler(event){event.preventDefault();}var _useHttp=useHttp(),loading=_useHttp.loading,error=_useHttp.error,request=_useHttp.request,clearError=_useHttp.clearError;var message=useMessage();var _useState=useState({title:'',address:'',phone:'',phoneAdditional:'',email:'',_id:'',city:'',map:'',vk:'',instagram:'',facebook:'',telegram:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];useEffect(function(){window.M.updateTextFields();});useEffect(function(){message(error);clearError();},[error,message,clearError]);var changeHandler=function changeHandler(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var fetchOrg=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var fetched;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request('/api/organization-edit/organization','POST',_objectSpread({},form),{},'application/json');case 3:fetched=_context.sent;if(fetched!==null){setDisabled(true);}setForm(_objectSpread({},fetched));_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);})),[request]);var updateHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return request(\"/api/organization-edit/update\",'POST',_objectSpread({},form),{},'application/json');case 3:data=_context2.sent;message(data.message);_context2.next=9;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function updateHandler(){return _ref2.apply(this,arguments);};}();var createHandler=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return request(\"/api/organization-edit/create\",'POST',_objectSpread({},form),{},'application/json');case 3:data=_context3.sent;message(data.message);setForm(_objectSpread(_objectSpread({},form),{},{_id:data.organization._id}));setDisabled(true);_context3.next=11;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function createHandler(){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchOrg();},[fetchOrg]);if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"adm-form col s12 m12\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:submitHandler,method:\"post\",enctype:\"multipart/form-data\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"col s8 offset-s4\",children:\"\\u041E\\u0440\\u0433\\u0430\\u043D\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"title\",name:\"title\",type:\"text\",className:\"\",value:form.title,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"title\",children:\"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"city\",name:\"city\",type:\"text\",class:\"\",value:form.city,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"city\",children:\"\\u0413\\u043E\\u0440\\u043E\\u0434\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"address\",name:\"address\",type:\"text\",class:\"\",value:form.address,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"address\",children:\"\\u0410\\u0434\\u0440\\u0435\\u0441\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"phone\",name:\"phone\",type:\"text\",class:\"\",value:form.phone,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"phone\",children:\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"phoneAdditional\",name:\"phoneAdditional\",type:\"text\",class:\"\",value:form.phoneAdditional,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"phoneAdditional\",children:\"\\u0414\\u043E\\u043F. \\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"map\",name:\"map\",type:\"text\",class:\"\",value:form.map,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"map\",children:\"C\\u0441\\u044B\\u043B\\u043A\\u0430 Google \\u043A\\u0430\\u0440\\u0442\\u044B\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{id:\"email\",name:\"email\",type:\"text\",class:\"\",value:form.email,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{name:\"vk\",type:\"text\",class:\"\",value:form.vk,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"vk\",children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 vk\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{name:\"instagram\",type:\"text\",class:\"\",value:form.instagram,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"instagram\",children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 instagram\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{name:\"facebook\",type:\"text\",class:\"\",value:form.facebook,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"facebook\",children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 facebook\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s8 offset-s2 l6 offset-l4  \",children:[/*#__PURE__*/_jsx(\"input\",{name:\"telegram\",type:\"text\",class:\"\",value:form.telegram,onChange:changeHandler}),/*#__PURE__*/_jsx(\"label\",{for:\"telegram\",children:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 telegram\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s3 offset-s5  m2 offset-m5  l1 offset-l4  btn-form\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loading,type:\"submit\",className:\"btn blue waves-effect waves-light\",onClick:updateHandler,children:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s3 offset-s5  m2 offset-m5  l1 offset-l4  btn-form\",children:/*#__PURE__*/_jsx(\"button\",{disabled:loading||disabled,type:\"submit\",className:\"btn green waves-effect waves-light\",onClick:createHandler,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})})]})]})})});}export default OrganizationForm;","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/components/OrganizationForm.js"],"names":["React","useEffect","useContext","useState","useCallback","useHttp","useMessage","Loader","OrganizationForm","submitHandler","event","preventDefault","loading","error","request","clearError","message","title","address","phone","phoneAdditional","email","_id","city","map","vk","instagram","facebook","telegram","form","setForm","disabled","setDisabled","window","M","updateTextFields","changeHandler","e","target","name","value","fetchOrg","fetched","updateHandler","data","createHandler","organization"],"mappings":"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","sourcesContent":["import React,{useEffect,useContext,useState,useCallback} from 'react'\r\nimport {useHttp} from \"../hooks/http.hook\" \r\nimport {useMessage} from \"../hooks/message.hook\"\r\nimport {Loader} from '../components/Loader'\r\n\r\nfunction OrganizationForm(){\r\n    function submitHandler(event){\r\n        event.preventDefault()\r\n    }\r\n    const {loading,error,request,clearError} = useHttp()\r\n    const message = useMessage()\r\n    const [form,setForm] = useState({\r\n      title:'',\r\n      address:'',\r\n      phone:'',\r\n      phoneAdditional:'',\r\n      email:'',\r\n      _id:'',\r\n      city:'',\r\n      map:'',\r\n      vk:'',\r\n      instagram:'',\r\n      facebook:'',\r\n      telegram:''\r\n    })\r\n\r\n    const [disabled,setDisabled] = useState(false)\r\n    useEffect(() => {\r\n        window.M.updateTextFields()\r\n      },)\r\n\r\n    useEffect(()=>{\r\n        message(error)\r\n        clearError()\r\n      },[error,message,clearError])\r\n\r\n   \r\n\r\n    const changeHandler = e=>{\r\n     \r\n        setForm({...form, [e.target.name]: e.target.value})\r\n      }  \r\n\r\n      const fetchOrg = useCallback(async () => {\r\n        try {\r\n            const fetched = await request('/api/organization-edit/organization', \r\n            'POST', {...form},{},'application/json')\r\n            if (fetched!==null){\r\n              setDisabled(true)\r\n            }\r\n            setForm({...fetched})\r\n            \r\n           \r\n    } catch (e) {}\r\n  }, [request])\r\n\r\n  \r\n\r\n  const updateHandler= async ()=>{\r\n    try{\r\n     \r\n      const data=await request(`/api/organization-edit/update`,'POST',{...form} , \r\n      {},'application/json')\r\n      message(data.message)\r\n    \r\n    }catch(e){\r\n\r\n    }\r\n}\r\n\r\nconst createHandler = async()=>{\r\n  try{\r\n    const data=await request(`/api/organization-edit/create`,'POST',{...form} , \r\n    {},'application/json')\r\n    message(data.message)\r\n    setForm({...form,_id:data.organization._id})\r\n    setDisabled(true)\r\n   \r\n    \r\n  }catch(e){\r\n\r\n  }\r\n}\r\nuseEffect(() => {\r\n  fetchOrg()\r\n  \r\n}, [fetchOrg]) \r\n\r\nif (loading) {\r\n    return <Loader/>\r\n  }\r\n    return(\r\n        <>\r\n          <div className=\"row\">\r\n            \r\n            <div className=\"adm-form col s12 m12\">\r\n           \r\n                <form onSubmit={submitHandler} method=\"post\" enctype=\"multipart/form-data\">\r\n                    <div class=\"row\">\r\n\r\n                    <h4 className=\"col s8 offset-s4\">Организация</h4>\r\n\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                     <input id=\"title\" name=\"title\" type=\"text\" className=\"\"\r\n                    value={form.title} onChange={changeHandler}/>\r\n                     <label  for=\"title\">Наименование</label>\r\n                    </div>\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"city\" name=\"city\" type=\"text\" class=\"\" \r\n                    value={form.city} onChange={changeHandler}/>\r\n                    <label for=\"city\">Город</label>\r\n                    </div>\r\n                     <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"address\" name=\"address\" type=\"text\" class=\"\" \r\n                    value={form.address} onChange={changeHandler}/>\r\n                    <label for=\"address\">Адрес</label>\r\n                    </div>\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"phone\" name=\"phone\" type=\"text\" class=\"\" \r\n                    value={form.phone} onChange={changeHandler}/>\r\n                    <label for=\"phone\">Телефон</label>\r\n                    </div>\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"phoneAdditional\" name=\"phoneAdditional\" type=\"text\" class=\"\" \r\n                    value={form.phoneAdditional} onChange={changeHandler}/>\r\n                    <label for=\"phoneAdditional\">Доп. Телефон</label>\r\n                    </div>\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"map\" name=\"map\" type=\"text\" class=\"\" \r\n                    value={form.map} onChange={changeHandler}/>\r\n                    <label for=\"map\">Cсылка Google карты</label>\r\n                    </div>\r\n                   \r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input id=\"email\" name=\"email\" type=\"text\" class=\"\" \r\n                    value={form.email} onChange={changeHandler}/>\r\n                    <label for=\"email\">Email</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input  name=\"vk\" type=\"text\" class=\"\" \r\n                    value={form.vk} onChange={changeHandler}/>\r\n                    <label for=\"vk\">Ссылка vk</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input  name=\"instagram\" type=\"text\" class=\"\" \r\n                    value={form.instagram} onChange={changeHandler}/>\r\n                    <label for=\"instagram\">Ссылка instagram</label>\r\n                    </div>\r\n\r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input name=\"facebook\" type=\"text\" class=\"\" \r\n                    value={form.facebook} onChange={changeHandler}/>\r\n                    <label for=\"facebook\">Ссылка facebook</label>\r\n                    </div>\r\n\r\n                    \r\n                    <div class=\"input-field col s8 offset-s2 l6 offset-l4  \">\r\n                    <input name=\"telegram\" type=\"text\" class=\"\" \r\n                    value={form.telegram} onChange={changeHandler}/>\r\n                    <label for=\"telegram\">Ссылка telegram</label>\r\n                    </div>\r\n  \r\n  \r\n  \r\n\r\n                 \r\n                        </div>\r\n                </form>\r\n                        <div className=\"row\">\r\n                    <div  className=\"input-field col s3 offset-s5  m2 offset-m5  l1 offset-l4  btn-form\">\r\n                        <button disabled={loading} \r\n                        type=\"submit\" \r\n                        className=\"btn blue waves-effect waves-light\" \r\n                        onClick={updateHandler}>Обновить</button>\r\n                    </div>\r\n                    <div  className=\"input-field col s3 offset-s5  m2 offset-m5  l1 offset-l4  btn-form\">\r\n                        <button disabled={loading|| disabled} \r\n                        type=\"submit\" \r\n                        className=\"btn green waves-effect waves-light\" \r\n                        onClick={createHandler}>Создать</button>\r\n                    </div>\r\n                   \r\n                    </div>\r\n                </div>\r\n                </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default OrganizationForm"]},"metadata":{},"sourceType":"module"}