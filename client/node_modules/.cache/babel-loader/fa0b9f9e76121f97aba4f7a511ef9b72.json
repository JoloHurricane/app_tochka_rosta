{"ast":null,"code":"import _regeneratorRuntime from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/react projects/reactExpress/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useContext,useState}from\"react\";import{Link}from'react-router-dom';import ArticleFormFields from\"./ArticleFormFields\";import{AuthContext}from'../context/AuthContext';import{useHttp}from\"../hooks/http.hook\";import{useMessage}from\"../hooks/message.hook\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UsersFormCreate(){var currentRoute=window.location.pathname;var auth=useContext(AuthContext);var message=useMessage();var _useHttp=useHttp(),loading=_useHttp.loading,error=_useHttp.error,request=_useHttp.request,clearError=_useHttp.clearError;var _useState=useState({title:'',text:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),articles=_useState4[0],setArticles=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),file=_useState6[0],setFile=_useState6[1];function submitHandler(event){event.preventDefault();}useEffect(function(){message(error);clearError();},[error,message,clearError]);var changeHandler=function changeHandler(e){setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},e.target.name,e.target.value)));};var createHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return request('/api/auth/register','POST',_objectSpread({},form),{},\"application/json\");case 3:data=_context.sent;message(data.message);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function createHandler(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"col s8 offset-s4\",children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"adm-form col s12 m12\",children:/*#__PURE__*/_jsxs(\"form\",{style:{paddingTop:\"60px\"},onSubmit:submitHandler,method:\"post\",enctype:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row \",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s12 m5 offset-m3 l5 offset-l5\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.login,onChange:changeHandler,id:\"login\",name:\"login\",type:\"text\"}),/*#__PURE__*/_jsx(\"label\",{for:\"login\",children:\"\\u041B\\u043E\\u0433\\u0438\\u043D\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"input-field col s12 m5 offset-m3 l5 offset-l5\",children:[/*#__PURE__*/_jsx(\"input\",{value:form.password,onChange:changeHandler,id:\"password\",name:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(\"label\",{for:\"password\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"input-field col s3 offset-s3  m2 offset-m4  l1 offset-l5  btn-form\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn green waves-effect waves-light\",disabled:loading,onClick:createHandler,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})})})]})})]})});}export default UsersFormCreate;","map":{"version":3,"sources":["C:/react projects/reactExpress/client/src/components/UsersFormCreate.js"],"names":["React","useEffect","useContext","useState","Link","ArticleFormFields","AuthContext","useHttp","useMessage","UsersFormCreate","currentRoute","window","location","pathname","auth","message","loading","error","request","clearError","title","text","form","setForm","articles","setArticles","file","setFile","submitHandler","event","preventDefault","changeHandler","e","target","name","value","createHandler","data","paddingTop","login","password"],"mappings":"slBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,CAAwBC,UAAxB,CAAmCC,QAAnC,KAAkD,OAAlD,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CACA,OAASC,WAAT,KAA4B,wBAA5B,CACA,OAAQC,OAAR,KAAsB,oBAAtB,CACA,OAAQC,UAAR,KAAyB,uBAAzB,C,6IAEA,QAASC,CAAAA,eAAT,EAA0B,CAEtB,GAAMC,CAAAA,YAAY,CAAEC,MAAM,CAACC,QAAP,CAAgBC,QAApC,CACA,GAAMC,CAAAA,IAAI,CAAGZ,UAAU,CAACI,WAAD,CAAvB,CACA,GAAMS,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAJsB,aAKqBD,OAAO,EAL5B,CAKfS,OALe,UAKfA,OALe,CAKPC,KALO,UAKPA,KALO,CAKDC,OALC,UAKDA,OALC,CAKOC,UALP,UAKOA,UALP,eAMChB,QAAQ,CAAC,CAC9BiB,KAAK,CAAC,EADwB,CAE9BC,IAAI,CAAC,EAFyB,CAAD,CANT,wCAMfC,IANe,eAMVC,OANU,8BAWUpB,QAAQ,CAAC,EAAD,CAXlB,yCAWfqB,QAXe,eAWLC,WAXK,8BAYCtB,QAAQ,EAZT,yCAYfuB,IAZe,eAYVC,OAZU,eAclB,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA6B,CACzBA,KAAK,CAACC,cAAN,GACH,CAED7B,SAAS,CAAC,UAAI,CACVc,OAAO,CAACE,KAAD,CAAP,CACAE,UAAU,GACX,CAHM,CAGL,CAACF,KAAD,CAAOF,OAAP,CAAeI,UAAf,CAHK,CAAT,CAKE,GAAMY,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,CAAC,CAAE,CACvBT,OAAO,gCAAKD,IAAL,wBAAYU,CAAC,CAACC,MAAF,CAASC,IAArB,CAA4BF,CAAC,CAACC,MAAF,CAASE,KAArC,GAAP,CACD,CAFD,CAKA,GAAMC,CAAAA,aAAa,0FAAE,kLAEElB,CAAAA,OAAO,CAAC,oBAAD,CAAsB,MAAtB,kBAAiCI,IAAjC,EAAuC,EAAvC,CAA0C,kBAA1C,CAFT,QAETe,IAFS,eAGftB,OAAO,CAACsB,IAAI,CAACtB,OAAN,CAAP,CAHe,iJAAF,kBAAbqB,CAAAA,aAAa,0CAAnB,CASN,mBAEI,sCACA,aAAK,SAAS,CAAC,KAAf,wBACA,WAAI,SAAS,CAAC,kBAAd,uIADA,cAEI,YAAK,SAAS,CAAC,sBAAf,uBAEI,cAAM,KAAK,CAAE,CAACE,UAAU,CAAC,MAAZ,CAAb,CAAkC,QAAQ,CAAEV,aAA5C,CAA2D,MAAM,CAAC,MAAlE,CAAyE,OAAO,CAAC,qBAAjF,wBACA,aAAK,SAAS,CAAC,MAAf,wBACI,aAAK,KAAK,CAAC,+CAAX,wBACI,cAAO,KAAK,CAAEN,IAAI,CAACiB,KAAnB,CAA0B,QAAQ,CAAER,aAApC,CAAmD,EAAE,CAAC,OAAtD,CAA8D,IAAI,CAAC,OAAnE,CAA4E,IAAI,CAAC,MAAjF,EADJ,cAEI,cAAO,GAAG,CAAC,OAAX,4CAFJ,GADJ,cAKI,aAAK,KAAK,CAAC,+CAAX,wBACI,cAAO,KAAK,CAAET,IAAI,CAACkB,QAAnB,CAA6B,QAAQ,CAAET,aAAvC,CAAsD,EAAE,CAAC,UAAzD,CAAoE,IAAI,CAAC,UAAzE,CAAoF,IAAI,CAAC,UAAzF,EADJ,cAEI,cAAO,GAAG,CAAC,UAAX,kDAFJ,GALJ,GADA,cAaK,YAAK,SAAS,CAAC,KAAf,uBACD,YAAM,SAAS,CAAC,oEAAhB,uBACI,eAAQ,IAAI,CAAC,QAAb,CACA,SAAS,CAAC,oCADV,CAEA,QAAQ,CAAEf,OAFV,CAGA,OAAO,CAAEoB,aAHT,wDADJ,EADC,EAbL,GAFJ,EAFJ,GADA,EAFJ,CA2CH,CAED,cAAe3B,CAAAA,eAAf","sourcesContent":["import React,{useEffect,useContext,useState} from \"react\";\r\nimport {Link} from 'react-router-dom'\r\nimport ArticleFormFields from \"./ArticleFormFields\"\r\nimport { AuthContext } from '../context/AuthContext'\r\nimport {useHttp} from \"../hooks/http.hook\" \r\nimport {useMessage} from \"../hooks/message.hook\"\r\n\r\nfunction UsersFormCreate(){\r\n\r\n    const currentRoute= window.location.pathname\r\n    const auth = useContext(AuthContext)\r\n    const message = useMessage()\r\n    const {loading,error,request,clearError} = useHttp()\r\n    const [form,setForm] = useState({\r\n      title:'',\r\n      text:'',\r\n   \r\n    }) \r\n    const [articles, setArticles] = useState([])\r\n    const [file,setFile] = useState()\r\n   \r\n        function submitHandler(event){\r\n            event.preventDefault()\r\n        }\r\n\r\n        useEffect(()=>{\r\n            message(error)\r\n            clearError()\r\n          },[error,message,clearError])\r\n\r\n          const changeHandler = e=>{\r\n            setForm({...form, [e.target.name]: e.target.value})\r\n          }  \r\n\r\n         \r\n          const createHandler= async ()=>{\r\n            try{\r\n                const data=await request('/api/auth/register','POST',{...form},{},\"application/json\")\r\n                message(data.message)\r\n              }catch(e){\r\n        \r\n              }\r\n        }\r\n\r\n    return(\r\n        \r\n        <>\r\n        <div className=\"row\">\r\n        <h4 className=\"col s8 offset-s4\">Создание пользователя</h4>\r\n            <div className=\"adm-form col s12 m12\">\r\n           \r\n                <form style={{paddingTop:\"60px\"}} onSubmit={submitHandler} method=\"post\" enctype=\"multipart/form-data\">\r\n                <div className=\"row \">\r\n                    <div class=\"input-field col s12 m5 offset-m3 l5 offset-l5\">\r\n                        <input value={form.login} onChange={changeHandler} id=\"login\" name=\"login\"  type=\"text\" />\r\n                        <label for=\"login\">Логин</label>\r\n                     </div>\r\n                    <div class=\"input-field col s12 m5 offset-m3 l5 offset-l5\">\r\n                        <input value={form.password} onChange={changeHandler} id=\"password\" name=\"password\" type=\"password\" />\r\n                        <label for=\"password\">Пароль</label>\r\n                     </div>\r\n                     \r\n                    </div>\r\n                    \r\n                     <div className=\"row\">\r\n                    <div  className=\"input-field col s3 offset-s3  m2 offset-m4  l1 offset-l5  btn-form\">\r\n                        <button type=\"submit\" \r\n                        className=\"btn green waves-effect waves-light\"\r\n                        disabled={loading}\r\n                        onClick={createHandler}\r\n                        >Создать</button>\r\n                    </div>\r\n                   \r\n                           \r\n                    </div>\r\n                </form>               \r\n            </div>\r\n        </div>\r\n           \r\n                    \r\n        </>\r\n   \r\n            \r\n        \r\n\r\n    )\r\n\r\n}\r\n\r\nexport default UsersFormCreate"]},"metadata":{},"sourceType":"module"}